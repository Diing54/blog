{{ define "main" }}
<div class="home-page">
    <!-- Keep your existing home info section -->
    {{- if .Site.Params.homeInfoParams }}
    <div class="home-info">
        <header class="entry-header">
            <h1>{{ .Site.Params.homeInfoParams.Title }}</h1>
        </header>
        <div class="entry-content">
            {{ .Site.Params.homeInfoParams.Content | markdownify }}
        </div>
    </div>
    {{- end }}

    <!-- Add "My Recent Posts" title and the posts -->
    {{- $pages := where site.RegularPages "Type" "in" site.Params.mainSections }}
    {{- if and (gt (len $pages) 0) }}
    <div class="recent-posts-section">
        <h2 class="recent-posts-title">My Recent Posts</h2>
        {{- range $pages.ByDate.Reverse | first 5 }}
            <article class="post-entry">
                <header class="entry-header">
                    <h3>{{ .Title }}</h3>
                </header>
                {{- if (ne (.Param "hideSummary") true) }}
                <div class="entry-content">
                    <p>{{ .Summary | plainify | htmlUnescape }}{{ if .Truncated }}...{{ end }}</p>
                </div>
                {{- end }}
                <footer class="entry-footer">
                    {{ partial "post_meta.html" . }}
                </footer>
                <a class="entry-link" aria-label="post link to {{ .Title | plainify }}" href="{{ .Permalink }}"></a>
            </article>
        {{- end }}
    </div>
    {{- end }}
</div>
{{ end }}
